<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Resume Screening ‚Äì Futuristic AI</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <script src="https://kit.fontawesome.com/your-kit.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <div class="particles-bg"></div>
  <div class="hero-grid">
    <div class="container">

      <!-- HEADER -->
      <header class="header">
        <h1 class="orbitron glow-text typing-effect">ü§ñ AI RESUME SCREENING üöÄ</h1>
        <p class="tagline">
          <i class="fas fa-robot"></i>
          Advanced AI-powered resume analysis & job matching
        </p>
      </header>

      <!-- STATUS PANEL -->
      <section class="status-panel tech-card">
        <div class="status-left">
          <div class="status-dot online"></div>
          <span class="orbitron">SYSTEM STATUS</span>
        </div>
        <div class="status-right">
          <span>Model: <strong>Ready ‚úÖ</strong></span>
          <span>
            Database:
            <strong>{{ results|length if results else 'No results' }} üìä</strong>
          </span>
        </div>
      </section>

      <!-- UPLOAD FORM -->
      <section class="upload-panel tech-card">
        <h2 class="orbitron panel-title">
          <i class="fas fa-upload neon-icon"></i>
          üìÑ UPLOAD YOUR RESUME
        </h2>
        <form
          method="POST"
          action="{{ url_for('index') }}"
          enctype="multipart/form-data"
        >
          <div class="upload-zone">
            <input
              type="file"
              name="resume_file"
              accept=".pdf,.docx"
              required
            />
            <div class="upload-prompt">
              <i class="fas fa-cloud-upload-alt neon-icon"></i>
              <p>Drag & drop or click to browse</p>
              <small>PDF ¬∑ DOCX</small>
            </div>
          </div>
          <button type="submit" class="neon-button mt-4">
            üîç Analyze Resume
          </button>
        </form>
      </section>

      <!-- ERROR MESSAGE -->
      {% if error %}
      <section class="tech-card error-box">
        ‚ùó {{ error }}
      </section>
      {% endif %}

      <!-- RESULTS PANEL -->
      {% if results %}
      <section class="results-panel tech-card">
        <h2 class="orbitron panel-title">
          <i class="fas fa-brain neon-icon"></i>
          üß† AI ANALYSIS RESULTS
        </h2>
        <div class="results-status">
          <div><strong>Text Extraction:</strong> ‚úì Complete</div>
          <div><strong>Embeddings:</strong> ‚úì Generated</div>
          <div><strong>Matching:</strong> ‚úì Processed</div>
        </div>
        <div class="match-list">
          {% for job in results %}
          <div class="result-card">
            <div class="card-header">
              <div class="title-block">
                <div class="rank-circle">{{ loop.index }}</div>
                <div>
                  <h3 class="job-title">{{ job.title }}</h3>
                  <p class="job-sub">Job Position</p>
                </div>
              </div>
              <div class="score-block">
                <div class="score">{{ job.score }}%</div>
                <div class="score-label">Match Score</div>
              </div>
            </div>
            <p class="job-desc">{{ job.description }}</p>
            {% if job.matching_skills %}
            <p class="recommendation">
              You have <strong>{{ job.matching_skills|length }}</strong>
              key skill{{ 's' if job.matching_skills|length > 1 }} matched:
              {{ job.matching_skills|join(', ') }}.
            </p>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </section>
      {% endif %}

      <!-- FOOTER -->
      <footer class="footer">
        <small class="orbitron">
          POWERED BY AI ‚Ä¢ Sentence Transformers ‚Ä¢ Cosine Similarity
        </small>
      </footer>

    </div>
  </div>
</body>
</html>
